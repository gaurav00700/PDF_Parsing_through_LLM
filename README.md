### Overview

- This is a Python script that extracts data from PDF files using LLM (Large Language Model) and saves the extracted fields in JSON format. 
- The script uses Langchain library to handle the extraction process and the `Parse_DocFields` class to define the schema for extracting fields from the PDF document.
- It uses the `ChatOllama` model from the `ollama` library to interact with the LLM. 
- The script takes a PDF file path as input and extracts the data using the `extract_fields` method of the `PDF_data_Extraction` class. 
- The extracted data is saved in a JSON file with the same name as the PDF file, located in the specified save directory (default is the current working directory).
- It also uses the `Parse_DocFields` class to define the schema for extracting fields from the PDF document.
- The script takes a PDF file path as input and extracts the data using the `extract_fields` method of the `PDF_data_Extraction` class. 
- The extracted data is saved in a JSON file with the same name as the PDF file, located in the specified save directory.
- The script also includes a main function that demonstrates how to use the script by creating an instance of the `PDF_data_Extraction` class and calling its `extract_fields` method.

### Prerequisites
- System with OS Windows, Mac or Linux
- Langchain chatmodel with support of Multilanguage (can be from Hugging Face, OpenAI, Ollama or other sources)
- Python and required libraries installed

### Installation Steps
1. Navigate to the project directory.
2. Create a virtual environment and activate it:
```
conda create -n llm python=3.12 -y
conda activate llm
```
3. Install the required libraries using pip:
```
pip install -r requirements.txt
```
4. (Optional) Local LLM serving using [Ollama](https://github.com/ollama/ollama) with Multilingual LLM (llama3.2:3b)

### Usage
1. Run the script by executing the following command in the terminal (Ollama is used LLM serving):
```
python ./document_extractor.py --doc_path ./documents/doc-01.pdf --save_json_path .
```

### Results
- The extracted data returned by the script and is also saved in a JSON file, located in the specified save directory (Optional). 
- Below is example of the JSON file generated by the script for the document `doc-04.pdf`:

```
{
    "general_field": {
        "document_id": "STMT-78924-2025",
        "document_type": "credit",
        "document_date": "March 15, 2025",
        "customer_name": "Robert Johnson",
        "customer_id": 3824,
        "institution_name": "Global Financial Bank",
        "institution_address": "123 Maple Street, Boston, MA 02108, USA",
        "language": "en"
    },
    "document_field": {
        "portfolio_id": "null",
        "portfolio_value": "null",
        "asset_number": 3824,
        "risk_profile": "null",
        "account_number": null,
        "account_type": "checking",
        "statement_period": "monthly",
        "opening_balance": null,
        "closing_balance": null,
        "available_balance": null,
        "transaction_number": 12,
        "debtor_name": "Acme Inc",
        "creditor_name": "Rent",
        "garnishment_amount": "null",
        "effective_date": "February 18, 2025",
        "duration": null,
        "legal_authority": "null",
        "card_number": "null",
        "credit_limit": null,
        "interest_rate": null,
        "payment_due_date": "null",
        "minimum_payment": null,
        "previous_balance": null,
        "new_balance": null
    }
}
```
### TODO
 1. [ ] Improve parsing of image based pdf
 2. [ ] Add Unit tests to ensure robustness of the code
 3. [ ] Package code in an API for easy integration in other applications and environments
 4. [ ] Dockerize the application for deployment


### Assumptions
- The PDF files are well formatted and contain the necessary information in same style.
- The extracted fields are stored in a JSON file has same

